<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passage Creation</title>
    <link rel="stylesheet" href="passageCreation.css">
</head>
<body>
    
     <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <nav>
                <center><h3>INSERT LOGO HERE</h3></center>
                <center><h3> Readify Navigation</h3></center>
                <ul>
                    <li><a href="/Home">Home</a></li>
                    <li><a href="/create-passage">Create Passage</a></li>
                    <li><a href="/exam-launcher">Test Selection</a></li>
                    <li><a href="/UserManagement">User Management</a></li>
                    <li><a href="/Profile">Profile</a></li>
                    <li><a href="/Logout" style="color: red;">Logout</a></li>
                </ul>
            </nav>
            </aside>
            
        <!-- Content -->
        <main class="content">
           <div style="max-width: 800px; margin: 40px auto; font-family: sans-serif; background: #fff; padding: 30px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                <h2>Create New Passage</h2>
                <form action="/create-passage" method="POST" enctype="multipart/form-data">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div>
                            <label>Test Designation:</label>
                            <select name="testDesignation" required style="width: 100%; padding: 8px;">
                                <option value="true">Main Test</option>
                                <option value="false">Practice Test</option>
                            </select>
                        </div>
                        <div>
                            <label>Test Type:</label>
                            <select name="testType" required style="width: 100%; padding: 8px;">
                                <option value="1">1 (Multiple Choice)</option>
                                <option value="2">2 (True / False / Not Given)</option>
                                <option value="3">3 (Yes / No / Not Given)</option>
                                <option value="4">4 (Matching Information)</option>
                                <option value="5">5 (Matching Headings)</option>
                                <option value="6">6 (Matching Features)</option>
                                <option value="7">7 (Matching Sentence Endings)</option>
                                <option value="8">8 (Sentence Completion)</option>
                                <option value="9">9 (Summary Completion)</option>
                                <option value="10">10 (Diagram-Label Completion)</option>
                                <option value="11">11 (Short-Answer Questions)</option>
                                </select>
                        </div>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label>Passage Title:</label>
                        <input type="text" name="passageTitle" required style="width: 100%; padding: 8px;">
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label>Passage Content (HTML allowed):</label>
                        <textarea name="passage" rows="10" required style="width: 100%; padding: 8px;"></textarea>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label>Passage Source (Optional):</label>
                        <input type="text" name="passageSource" style="width: 100%; padding: 8px;">
                    </div>

                    <div style="margin-bottom: 20px; padding: 15px; border: 1px dashed #007bff; border-radius: 8px;">
                        <label><strong>Add Diagram/Image (Optional):</strong></label>
                        <input type="file" name="passageImage" accept="image/*" style="display: block; margin-top: 10px;">
                        <small style="color: #666;">This image will appear between the title and the passage text.</small>
                    </div>

                    <hr>

                    <h3>Questions</h3>
                    <div id="questions-container">
                        <div class="question-form-group" style="border: 1px solid #eee; padding: 15px; margin-bottom: 10px; border-radius: 5px;">
                            <label>Q#:</label>
                            <input type="number" name="questions[0][number]" required style="width: 50px;" placeholder="1">
                            
                            <label>Question Text:</label>
                            <input type="text" name="questions[0][text]" required style="width: 60%;">
                            
                            <div style="margin-top: 10px;">
                                <label>Correct Answer:</label>
                                <input type="text" name="questions[0][answer]" required>
                                
                                <label>Options (CSV for MCQs):</label>
                                <input type="text" name="questions[0][data]" placeholder="Choice A, Choice B, Choice C">
                            </div>
                        </div>
                    </div>

                    <button type="button" onclick="addQuestion()" style="background: #6c757d; color: white; padding: 10px; border: none; cursor: pointer;">+ Add Another Question</button>
                    
                    <div style="margin-top: 30px; border-top: 2px solid #eee; padding-top: 20px;">
                        <button type="submit" style="background: #28a745; color: white; padding: 15px 40px; border: none; cursor: pointer; font-size: 1.1em; width: 100%;">Save Passage to Database</button>
                    </div>
                </form>
            </div>
        </main>
        <!-- Question Script -->
        <script>
            let questionCount = 1;
            function addQuestion() {
                const container = document.getElementById('questions-container');
                const html = `
                    <div class="question-form-group" style="border: 1px solid #eee; padding: 15px; margin-bottom: 10px; border-radius: 5px;">
                        <label>Q#:</label>
                        <input type="number" name="questions[${questionCount}][number]" required style="width: 50px;">
                        
                        <label>Question Text:</label>
                        <input type="text" name="questions[${questionCount}][text]" required style="width: 60%;">
                        
                        <div style="margin-top: 10px;">
                            <label>Correct Answer:</label>
                            <input type="text" name="questions[${questionCount}][answer]" required>
                            
                            <label>Options (CSV):</label>
                            <input type="text" name="questions[${questionCount}][data]" placeholder="Choice A, Choice B, Choice C">
                        </div>
                    </div>
                `;
                container.insertAdjacentHTML('beforeend', html);
                questionCount++;
            }
        </script>
</body>
</html>